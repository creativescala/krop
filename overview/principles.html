<!doctype html>
<html lang="">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Laika 1.0.0" />
    <title>Principles</title>
     
    <meta name="description" content="docs" />
    
    <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0&features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <link
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:300,400,600"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Crimson+Pro:400"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" type="text/css" href="../css/creative-scala.css" /> <script src="../js/solution.js"></script>
    <script>
      /* for avoiding page load transitions */
    </script>
  </head>

  <body>
    <header>
      <div id="topbar">
        <nav id="topbar">
          <button
            class="text-sm text-pink-800 font-sans font-semibold hover:text-pink-600 focus:text-pink-600"
            popovertarget="topbar-nav"
          >
            Contents
          </button>
          <div id="topbar-nav" popover>
            <div id="topbar-nav-container">
              <div
                class="p-4 mx-auto rounded-md bg-white border border-slate-900 relative"
              >
                <button
                  class="absolute top-4 right-4 text-slate-900 hover:text-pink-800 focus:text-pink-800"
                  popovertarget="topbar-nav"
                  popovertargetaction="hide"
                >
                  ✕
                </button>
                <ul class="nav-list">
                  <li class="level1 nav-node"><a href="../">Krop</a></li>
                  <li class="level2 nav-leaf"><a href="../quick-start.html">Quick Start</a></li>
                  <li class="level2 nav-node"><a href="index.html">Overview</a></li>
                  <li class="level3 nav-leaf"><a href="architecture.html">Architecture</a></li>
                  <li class="level3 active nav-leaf"><a href="#">Principles</a></li>
                  <li class="level2 nav-leaf"><a href="../application.html">Application</a></li>
                  <li class="level2 nav-leaf"><a href="../server.html">Server</a></li>
                  <li class="level2 nav-leaf"><a href="../model/">Models</a></li>
                  <li class="level2 nav-leaf"><a href="../views.html">View</a></li>
                  <li class="level2 nav-node"><a href="../controller/">Controller</a></li>
                  <li class="level3 nav-node"><a href="../controller/route/">Routing</a></li>
                  <li class="level4 nav-leaf"><a href="../controller/route/request.html">Request</a></li>
                  <li class="level4 nav-leaf"><a href="../controller/route/paths.html">Paths</a></li>
                  <li class="level4 nav-leaf"><a href="../controller/route/response.html">Response</a></li>
                  <li class="level3 nav-leaf"><a href="../controller/handler.html">Handlers</a></li>
                </ul>
              </div>
            </div>
          </div>
        </nav>
        <nav id="home"><a class="text-link" href="../">Krop</a></nav>
        <nav id="external"><a href="https://discord.gg/rRhcFbJxVG">Community<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a> <a href="https://javadoc.io/doc/org.creativescala/krop-docs_3/latest">API<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a> <a href="https://github.com/creativescala/krop">Source<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a></nav>
      </div>
    </header>

    <main>
      <nav id="sitebar">
        <div class="fixed h-screen overflow-y-auto">
          <ul class="nav-list">
            <li class="level1 nav-node"><a href="../">Krop</a></li>
            <li class="level2 nav-leaf"><a href="../quick-start.html">Quick Start</a></li>
            <li class="level2 nav-node"><a href="index.html">Overview</a></li>
            <li class="level3 nav-leaf"><a href="architecture.html">Architecture</a></li>
            <li class="level3 active nav-leaf"><a href="#">Principles</a></li>
            <li class="level2 nav-leaf"><a href="../application.html">Application</a></li>
            <li class="level2 nav-leaf"><a href="../server.html">Server</a></li>
            <li class="level2 nav-leaf"><a href="../model/">Models</a></li>
            <li class="level2 nav-leaf"><a href="../views.html">View</a></li>
            <li class="level2 nav-node"><a href="../controller/">Controller</a></li>
            <li class="level3 nav-node"><a href="../controller/route/">Routing</a></li>
            <li class="level4 nav-leaf"><a href="../controller/route/request.html">Request</a></li>
            <li class="level4 nav-leaf"><a href="../controller/route/paths.html">Paths</a></li>
            <li class="level4 nav-leaf"><a href="../controller/route/response.html">Response</a></li>
            <li class="level3 nav-leaf"><a href="../controller/handler.html">Handlers</a></li>
          </ul>
        </div>
      </nav>
      <div id="contentbar">
        <div class="max-w-prose mx-auto">
          <div id="content"><h1 id="principles" class="title">Principles</h1>
<p>Krop&#39;s goal is to make it delightful to build delightful web applications. This section unpacks those goals, describing in more detail what we&#39;re trying to do with Krop and how we&#39;re going to do it.</p>

<h2 id="being-delightful" class="section">Being Delightful</h2>
<p>Making it delightful to build is another way of saying we care a lot about developer happiness and productivity. We want simple things (and we think a lot of the the web is simple) to be really simple. In fact we want working with Krop to fade into the background so that you can concentrate on what makes your application distinctive, not the HTTP plumbing. Here are some ways we&#39;re trying to achieve this.</p>
<ul>
  <li>
    <p>Scale down. Scala is proven in high scale situations. Every big project starts out small, so we want to make it really easy to get started. Building something should only be a few lines of code.</p>
  </li>
  <li>
    <p>Code is easy to write. When designing APIs we make it easy to follow the types of code, and follow the IDE autocomplete. For example, where the API requires a <code>Request</code> the developer can just start typing <code>Request</code> and follow methods on the companion object. They don&#39;t need to know that they&#39;re actually working with a builder type to construct the final <code>Request</code>.</p>
  </li>
  <li>
    <p>Krop is featureful. If a user wants to do a common task it should be in Krop. We don&#39;t want them to have to chase down a dozen dependencies just to get some basic stuff. This doesn&#39;t mean we write everything ourselves though; that is too big a job. If an existing library does the job we bring it into Krop. That why, for example, Krop builds on top of http4s. There is no value is creating yet another HTTP model and web server.</p>
  </li>
  <li>
    <p>Establish conventions. It&#39;s a waste of time for the user to have to come up with their own directory structure and other conventions. We establish these so others don&#39;t have to think about them.</p>
  </li>
  <li>
    <p>Avoid boilerplate. We use a variety of tactics, including sensible defaults, code generation, and Scala 3&#39;s compile-time metaprogramming, so the user can avoid writing boilerplate.</p>
  </li>
  <li>
    <p>Imports are minimized. Users don&#39;t need to know the project structure inside and out to get stuff done. We use Scala 3&#39;s <code>export</code> feature to coaelesce imports into a few chosen areas.</p>
  </li>
  <li>
    <p>Support the run time experience. The types don&#39;t tell us everything, so make it easy to debug as well. For example, this is why in development mode we show why routes didn&#39;t match a given request.</p>
  </li>
  <li>
    <p>Write documentation. Explain to our users how Krop works.</p>
  </li>
</ul>

<h2 id="delightful-applications" class="section">Delightful Applications</h2>
<p>We want to make it possible to build applications that feel amazing. Scala has a long history of building web APIs, and Krop fully supports this, but we also want to make it easy to create rich user interfaces. We have two approaches: server-centric and client-centric.</p>
<p>Server-centric applications are ones where the server provides the majority of the interaction, with a small bit of Javascript where necessary. This is the approach taken by <a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html">Phoenix LiveView</a> and <a href="https://hotwired.dev/">Hotwired</a>. Krop will fully support this approach.</p>
<p>Client-centric applications build the interactivity on the client. Part of Scala&#39;s secret sauce is our compiler: we can produce Javascript and WASM in addition to JVM bytecode and native code. We intend to leverage this to make it possible to create web applications running in the browser or on mobile with just Scala code. Longer-term we want to support local-firm applications. </p>

<h2 id="be-functional" class="section">Be Functional</h2>
<p>We follow a functional paradigm, meaning we emphasize composition and reasoning. This means the user can trace the path of a request to a response without any hidden state. We don&#39;t, for example, inject routes into some hidden global state. If a user wants a route they add it to their application. Similarly we use compile-time, not run-time metaprogramming.</p></div>
          <div class="flex flex-row justify-between">
            <a class="pagenav" href="architecture.html">←Architecture</a> <a class="pagenav" href="../application.html">Application→</a>
          </div>
        </div>
        <footer>
          Copyright &copy; Noel Welsh. Built with
          <span class="hover:text-pink-900">💖</span>
        </footer>
      </div>
      <nav id="pagebar">
        <div class="fixed h-screen overflow-y-auto">
          <p>On This Page</p>
          <ul class="nav-list">
            <li class="level1 nav-leaf"><a href="#being-delightful">Being Delightful</a></li>
            <li class="level1 nav-leaf"><a href="#delightful-applications">Delightful Applications</a></li>
            <li class="level1 nav-leaf"><a href="#be-functional">Be Functional</a></li>
          </ul>
        </div>
      </nav>
    </main>
  </body>
</html>
